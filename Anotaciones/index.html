<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>2 - Anotaciones - AD - Accés a Dades</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
        <link href="../img/favicon.ico" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "2 - Anotaciones";
        var mkdocs_page_input_path = "Anotaciones.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../assets/logocaminas.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">UD 8. Componentes</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../Spring/">1 - Spring</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">2 - Anotaciones</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#anotaciones-de-configuracion">Anotaciones de configuración</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#anotaciones-de-componentes-y-beans">Anotaciones de componentes y Beans</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#anotaciones-de-controladores-mvc">Anotaciones de controladores (MVC)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#anotaciones-para-inyeccion-de-dependencias">Anotaciones para Inyección de Dependencias</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SpringBoot/">3 - SpringBoot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SpringMVC/">4 - Spring MVC</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SpringData/">5 - Spring Data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Docker/">6 - Docker</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">AD - Accés a Dades</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">UD 8. Componentes</li>
      <li class="breadcrumb-item active">2 - Anotaciones</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="anotaciones">Anotaciones</h1>
<p>Las anotaciones en Spring simplifican enormemente la configuración y el manejo de los componentes de una aplicación. Estas anotaciones eliminan la necesidad de configuraciones extensas en archivos XML y hacen que el código sea más legible y fácil de mantener.
La clave es aprender a usarlas en el contexto adecuado para lograr aplicaciones modulares, escalables y fácilmente configurables.</p>
<p><strong>Principales propósitos de las anotaciones en Spring:</strong></p>
<p>1) Inyección de dependencias</p>
<p>Permiten declarar y gestionar las relaciones entre los diferentes componentes de una aplicación.</p>
<p>Ejemplos:</p>
<ul>
<li><strong>@Autowired</strong>: Para inyectar automáticamente dependencias.</li>
<li><strong>@Qualifier</strong>: Para resolver ambigüedades cuando hay múltiples beans del mismo tipo.</li>
<li><strong>@Value</strong>: Inyecta valores desde propiedades (application.properties) o expresiones.</li>
</ul>
<hr />
<p>2) Definición de componentes</p>
<p>Marcan clases como componentes gestionados por el contenedor de Spring, para que puedan ser inyectados y utilizados en otras partes de la aplicación.</p>
<p>Ejemplos:</p>
<ul>
<li><strong>@Component</strong>: Marca una clase genérica como un componente gestionado por Spring.</li>
<li><strong>@Service</strong>: Especialización de @Component para servicios.</li>
<li><strong>@Repository</strong>: Especialización para la capa de acceso a datos. Cuando la clase interactúa directamente con la base de datos (por ejemplo, con Spring Data JPA o JDBC).</li>
<li><strong>@Configuration</strong>: Indica que una clase contiene definiciones de beans (equivalente a un archivo XML de configuración).</li>
<li><strong>@Bean</strong>: Define un bean manualmente dentro de una clase de configuración.</li>
<li><strong>@Controller</strong>: Marca una clase como un controlador para manejar peticiones HTTP. Cuando necesitas manejar peticiones web en una aplicación tradicional.</li>
<li><strong>@RestController</strong>: Combina <strong>@Controller</strong> y <strong>@ResponseBody</strong> para APIs RESTful. Cuando estás desarrollando una API REST y necesitas devolver objetos serializados directamente en la respuesta.</li>
</ul>
<p>En Spring Boot, <strong>las anotaciones</strong> son fundamentales porque definen el comportamiento y la configuración de los componentes de la aplicación. A continuación, se muestran ejemplos de las anotaciones más utilizadas, organizadas por categorías:</p>
<h2 id="anotaciones-de-configuracion">Anotaciones de configuración</h2>
<p><strong>@SpringBootApplication</strong></p>
<pre><code>@SpringBootApplication
        public class Application {
            public static void main(String[] args) {
                SpringApplication.run(Application.class, args);
            }
        }
</code></pre>
<div class="admonition note">
<p class="admonition-title">Marca la clase principal de la aplicación. Es una combinación de:</p>
<p><strong>1. @Configuration:</strong> Habilita la configuración automática.</p>
<p><strong>2. @EnableAutoConfiguration:</strong> Hace que Spring escanee las dependencias incluidas en el classpath y configure automáticamente Beans relacionados.</p>
<p>Por ejemplo:</p>
<ul>
<li>Si tienes Spring Web en el proyecto, configurará un servidor web.</li>
<li>Si tienes una dependencia de JPA, configurará un gestor de entidades.</li>
</ul>
<p><strong>3. @ComponentScan:</strong></p>
<p>Indica a Spring que debe escanear los paquetes a partir del paquete donde está definida la clase con @SpringBootApplication, buscando clases anotadas con:</p>
<pre><code>@Component
@Service
@Repository
@Controller
</code></pre>
</div>
<p><strong>@Configuration</strong></p>
<p>Indica que una clase contiene definiciones de beans.</p>
<pre><code>@Configuration
public class AppConfig {
    @Bean
    public MyService myService() {
        return new MyService();
    }
}
</code></pre>
<p><strong>@PropertySource</strong></p>
<p>Carga un archivo de propiedades externo.</p>
<pre><code>@PropertySource("classpath:application.properties")
public class AppConfig {}
</code></pre>
<h2 id="anotaciones-de-componentes-y-beans">Anotaciones de componentes y Beans</h2>
<p><strong>@Component</strong></p>
<p>Marca una clase como un Bean para que Spring la detecte automáticamente durante el escaneo de componentes.</p>
<p>Uso típico: cualquier clase que no encaje específicamente como servicio, repositorio o controlador.</p>
<pre><code>@Component
    public class MyComponent {
        public void doSomething() {
            System.out.println("Hello from MyComponent!");
        }
    }
</code></pre>
<p><strong>@Service</strong></p>
<p>Es una especialización de @Component. Indica que la clase contiene lógica de negocio.</p>
<p>Uso típico: servicios de negocio.</p>
<pre><code>@Service
public class MyService {
    public String process() {
        return "Processing...";
    }
}
</code></pre>
<p><strong>@Repository</strong></p>
<p>Especialización de @Component. Indica que la clase es responsable de la interacción con la base de datos.
Habilita el manejo automático de excepciones relacionadas con la persistencia.</p>
<pre><code>@Repository
public interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt; {
}
</code></pre>
<p><strong>@Bean</strong></p>
<p>Declara un bean dentro de una clase anotada con @Configuration. </p>
<pre><code>@Configuration
    public class AppConfig {
        @Bean
        public MyService myService() {
            return new MyService();
        }
    }
</code></pre>
<h2 id="anotaciones-de-controladores-mvc">Anotaciones de controladores (MVC)</h2>
<p><strong>@Controller</strong></p>
<p>Especialización de @Component. Indica que la clase es un controlador que maneja solicitudes HTTP en aplicaciones web MVC.</p>
<p>Uso típico: manejar la lógica de las solicitudes y devolver vistas.</p>
<pre><code>@Controller
public class MyController {
    @GetMapping("/home")
    public String home() {
        return "home";
    }
}
</code></pre>
<p><strong>@RestController</strong></p>
<p>Combina @Controller y @ResponseBody. Indica que la clase es un controlador REST que devuelve directamente datos (normalmente en formato JSON o XML) en lugar de vistas.</p>
<pre><code>@RestController
public class MyRestController {
    @GetMapping("/api/greet")
    public String greet() {
        return "Hello, World!";
    }
}
</code></pre>
<p><strong>@RequestMapping</strong></p>
<p>Mapea solicitudes HTTP a métodos específicos en un controlador.</p>
<pre><code>@Controller
public class MyController {
    @RequestMapping("/home")
    public String home() {
        return "home";
    }
}
</code></pre>
<p><strong>@GetMapping, @PostMapping, @PutMapping, @DeleteMapping</strong></p>
<p>Son variantes especializadas de @RequestMapping para solicitudes HTTP específicas.</p>
<pre><code>@RestController
public class MyController {
    @GetMapping("/users")
    public List&lt;User&gt; getUsers() {
        return userService.getAllUsers();
    }
}
</code></pre>
<p><strong>@PathVariable</strong></p>
<p>Vincula un parámetro en la URL a un argumento en el controlador.</p>
<pre><code>@GetMapping("/users/{id}")
public User getUser(@PathVariable Long id) {
    return userService.getUserById(id);
}
</code></pre>
<p><strong>@RequestParam</strong></p>
<p>Vincula un parámetro de consulta (query parameter) a un argumento del controlador.</p>
<pre><code>@GetMapping("/search")
public String search(@RequestParam String keyword) {
    return "Searching for " + keyword;
}
</code></pre>
<p><strong>@RequestBody</strong></p>
<p>Vincula el cuerpo de la solicitud HTTP a un objeto Java.</p>
<pre><code>@PostMapping("/users")
public User createUser(@RequestBody User user) {
    return userService.save(user);
}
</code></pre>
<p><strong>@ResponseBody</strong></p>
<p>Indica que el resultado del método debe enviarse como la respuesta HTTP (generalmente en formato JSON o XML).</p>
<pre><code>@ResponseBody
@GetMapping("/hello")
public String hello() {
    return "Hello!";
}
</code></pre>
<h2 id="anotaciones-para-inyeccion-de-dependencias">Anotaciones para Inyección de Dependencias</h2>
<p><strong>@Autowired</strong></p>
<p>Inyecta automáticamente un Bean en una clase.</p>
<p>Se puede usar en:</p>
<ul>
<li>Constructor</li>
<li>Campo</li>
<li>Método</li>
</ul>
<hr />
<pre><code>@Service
public class MyService {
    @Autowired
    private MyRepository myRepository;
}
</code></pre>
<p><strong>@Qualifier</strong></p>
<p>Se usa junto con @Autowired para especificar qué <strong>Bean</strong> debe inyectarse si hay múltiples candidatos.</p>
<pre><code>@Service
public class MyService {
    @Autowired
    @Qualifier("mySpecificBean")
    private MyComponent myComponent;
}
</code></pre>
<p><strong>@Inject</strong></p>
<p>Alternativa a @Autowired (de Java CDI), realiza la misma función.</p>
<pre><code>@Inject
private MyComponent myComponent;
</code></pre>
<p><strong>@Value</strong></p>
<p>Inyecta valores directamente desde el archivo de configuración (application.properties) o valores literales.</p>
<pre><code>@Value("${app.name}")
private String appName;
</code></pre>
<hr />
<p>Anotaciones para Spring Data</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Spring/" class="btn btn-neutral float-left" title="1 - Spring"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../SpringBoot/" class="btn btn-neutral float-right" title="3 - SpringBoot">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Spring/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../SpringBoot/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
