<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://asalvadorc.github.io/AD_Componentes/Anotaciones/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>üîπ Anotaciones - AD - Acc√©s a Dades</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
        <link href="../css/copy-button.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\ud83d\udd39 Anotaciones";
        var mkdocs_page_input_path = "Anotaciones.md";
        var mkdocs_page_url = "/AD_Componentes/Anotaciones/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../assets/logocaminas.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Componentes</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../Spring/">üîπ Spring Framework</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">üîπ Anotaciones</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SpringBoot/">üîπ SpringBoot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SpringMVC/">üîπ Spring MVC</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SpringData/">üîπ Spring Data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Docker/">üîπ Docker</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">AD - Acc√©s a Dades</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Componentes</li>
      <li class="breadcrumb-item active">üîπ Anotaciones</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="anotaciones">Anotaciones<a class="headerlink" href="#anotaciones" title="Permanent link">&para;</a></h1>
<p>Las anotaciones son etiquetas especiales que se colocan encima de clases, funciones o atributos para decirle a Spring c√≥mo debe comportarse con ese c√≥digo.<br />
Las anotaciones son, por tanto, la forma en la que Spring entiende tu aplicaci√≥n.</p>
<p>Spring tiene much√≠simas anotaciones, porque es un framework muy grande y sirve para muchos tipos de proyectos (web MVC, microservicios, seguridad, batch, mensajer√≠a, etc.).</p>
<p>En nuestro caso, como vamos a trabajar √∫nicamente con Spring Boot, API REST, vistas HTML y JPA, no es necesario aprender todas las anotaciones que ofrece Spring.</p>
<p>Basta con conocer un conjunto reducido de anotaciones b√°sicas, suficientes para desarrollar un backend completo y funcional.</p>
<p>En la siguiente tabla se recogen las anotaciones m√°s importantes que utilizaremos a lo largo del tema. A medida que avancemos, ir√°n apareciendo otras anotaciones adicionales que se introducir√°n solo cuando sean necesarias para la aplicaci√≥n.</p>
<p><strong class="azul">Tabla de anotaciones b√°sicas en Spring (para API REST/vistas HTML + JPA)</strong></p>
<table>
<thead>
<tr>
<th>Categor√≠a</th>
<th>Anotaci√≥n</th>
<th>D√≥nde se usa</th>
<th>Para qu√© sirve</th>
</tr>
</thead>
<tbody>
<tr>
<td>üöÄ Arranque de la app</td>
<td><code>@SpringBootApplication</code></td>
<td>Clase principal</td>
<td>Marca la clase de arranque de la aplicaci√≥n Spring Boot y activa la auto-configuraci√≥n y el escaneo de componentes.</td>
</tr>
<tr>
<td>üåê API REST</td>
<td><code>@RestController</code></td>
<td>Clase</td>
<td>Indica que la clase es un controlador REST y que los m√©todos devuelven directamente datos (normalmente JSON).</td>
</tr>
<tr>
<td></td>
<td><code>@RequestMapping</code></td>
<td>Clase o m√©todo</td>
<td>Define la ruta base o una ruta concreta para acceder a un recurso.</td>
</tr>
<tr>
<td></td>
<td><code>@GetMapping</code></td>
<td>M√©todo</td>
<td>Atiende peticiones HTTP <strong>GET</strong> (lectura de datos).</td>
</tr>
<tr>
<td></td>
<td><code>@PostMapping</code></td>
<td>M√©todo</td>
<td>Atiende peticiones HTTP <strong>POST</strong> (creaci√≥n de datos).</td>
</tr>
<tr>
<td></td>
<td><code>@PutMapping</code></td>
<td>M√©todo</td>
<td>Atiende peticiones HTTP <strong>PUT</strong> (actualizaci√≥n de datos).</td>
</tr>
<tr>
<td></td>
<td><code>@DeleteMapping</code></td>
<td>M√©todo</td>
<td>Atiende peticiones HTTP <strong>DELETE</strong> (eliminaci√≥n de datos).</td>
</tr>
<tr>
<td></td>
<td><code>@RequestBody</code></td>
<td>Par√°metro</td>
<td>Permite recibir datos enviados en el cuerpo de la petici√≥n (JSON).</td>
</tr>
<tr>
<td></td>
<td><code>@PathVariable</code></td>
<td>Par√°metro</td>
<td>Permite recoger valores de la URL (por ejemplo, un identificador).</td>
</tr>
<tr>
<td>üñ•Ô∏è MVC (vistas)</td>
<td><code>@Controller</code></td>
<td>Clase</td>
<td>Marca una clase como controlador MVC tradicional, devolviendo vistas (HTML con Thymeleaf).</td>
</tr>
<tr>
<td>üß† L√≥gica de negocio</td>
<td><code>@Service</code></td>
<td>Clase</td>
<td>Marca una clase como servicio, donde se implementa la l√≥gica de negocio.</td>
</tr>
<tr>
<td></td>
<td><code>@Autowired</code></td>
<td>Atributo o constructor</td>
<td>Inyecta autom√°ticamente una dependencia gestionada por Spring.</td>
</tr>
<tr>
<td>üóÑÔ∏è JPA / Base de datos</td>
<td><code>@Entity</code></td>
<td>Clase</td>
<td>Indica que la clase representa una tabla de la base de datos.</td>
</tr>
<tr>
<td></td>
<td><code>@Table</code></td>
<td>Clase</td>
<td>Define el nombre de la tabla asociada a la entidad.</td>
</tr>
<tr>
<td></td>
<td><code>@Id</code></td>
<td>Atributo</td>
<td>Marca el atributo como clave primaria.</td>
</tr>
<tr>
<td></td>
<td><code>@GeneratedValue</code></td>
<td>Atributo</td>
<td>Indica que el valor de la clave primaria se genera autom√°ticamente.</td>
</tr>
<tr>
<td></td>
<td><code>@Column</code></td>
<td>Atributo</td>
<td>Configura una columna de la tabla (nombre, restricciones, unicidad, etc.).</td>
</tr>
<tr>
<td></td>
<td><code>@OneToMany</code></td>
<td>Atributo</td>
<td>Define una relaci√≥n uno-a-muchos entre entidades.</td>
</tr>
<tr>
<td></td>
<td><code>@ManyToOne</code></td>
<td>Atributo</td>
<td>Define una relaci√≥n muchos-a-uno entre entidades.</td>
</tr>
<tr>
<td></td>
<td><code>@JoinColumn</code></td>
<td>Atributo</td>
<td>Especifica la columna usada como clave for√°nea en una relaci√≥n.</td>
</tr>
<tr>
<td>üóÉÔ∏è Acceso a datos</td>
<td><code>@Repository</code></td>
<td>Clase o interfaz</td>
<td>Indica que la clase o interfaz se encarga del acceso a datos y de la gesti√≥n de excepciones de base de datos.</td>
</tr>
</tbody>
</table>
<!--


**Principales prop√≥sitos de las anotaciones en Spring:**

1) Inyecci√≥n de dependencias

Permiten declarar y gestionar las relaciones entre los diferentes componentes de una aplicaci√≥n.

Ejemplos:

* **@Autowired**: Para inyectar autom√°ticamente dependencias.
* **@Qualifier**: Para resolver ambig√ºedades cuando hay m√∫ltiples beans del mismo tipo.
* **@Value**: Inyecta valores desde propiedades (application.properties) o expresiones.
---

2) Definici√≥n de componentes

Marcan clases como componentes gestionados por el contenedor de Spring, para que puedan ser inyectados y utilizados en otras partes de la aplicaci√≥n.

Ejemplos:

* **@Component**: Marca una clase gen√©rica como un componente gestionado por Spring.
* **@Service**: Especializaci√≥n de @Component para servicios.
* **@Repository**: Especializaci√≥n para la capa de acceso a datos. Cuando la clase interact√∫a directamente con la base de datos (por ejemplo, con Spring Data JPA o JDBC).
* **@Configuration**: Indica que una clase contiene definiciones de beans (equivalente a un archivo XML de configuraci√≥n).
* **@Bean**: Define un bean manualmente dentro de una clase de configuraci√≥n.
* **@Controller**: Marca una clase como un controlador para manejar peticiones HTTP. Cuando necesitas manejar peticiones web en una aplicaci√≥n tradicional.
* **@RestController**: Combina **@Controller** y **@ResponseBody** para APIs RESTful. Cuando est√°s desarrollando una API REST y necesitas devolver objetos serializados directamente en la respuesta.


En Spring Boot, **las anotaciones** son fundamentales porque definen el comportamiento y la configuraci√≥n de los componentes de la aplicaci√≥n. A continuaci√≥n, se muestran ejemplos de las anotaciones m√°s utilizadas, organizadas por categor√≠as:

## Anotaciones de configuraci√≥n

**@SpringBootApplication**

    @SpringBootApplication
            public class Application {
                public static void main(String[] args) {
                    SpringApplication.run(Application.class, args);
                }
            }

!!!note "Marca la clase principal de la aplicaci√≥n. Es una combinaci√≥n de:"
    **1. @Configuration:** Habilita la configuraci√≥n autom√°tica.

    **2. @EnableAutoConfiguration:** Hace que Spring escanee las dependencias incluidas en el classpath y configure autom√°ticamente Beans relacionados.

    Por ejemplo:

    * Si tienes Spring Web en el proyecto, configurar√° un servidor web.
    * Si tienes una dependencia de JPA, configurar√° un gestor de entidades.

    **3. @ComponentScan:**

    Indica a Spring que debe escanear los paquetes a partir del paquete donde est√° definida la clase con @SpringBootApplication, buscando clases anotadas con:

        @Component
        @Service
        @Repository
        @Controller



**@Configuration**

Indica que una clase contiene definiciones de beans.

    @Configuration
    public class AppConfig {
        @Bean
        public MyService myService() {
            return new MyService();
        }
    }


**@PropertySource**

Carga un archivo de propiedades externo.

    @PropertySource("classpath:application.properties")
    public class AppConfig {}

## Anotaciones de componentes y Beans

**@Component**

Marca una clase como un Bean para que Spring la detecte autom√°ticamente durante el escaneo de componentes.

  Uso t√≠pico: cualquier clase que no encaje espec√≠ficamente como servicio, repositorio o controlador.

    @Component
        public class MyComponent {
            public void doSomething() {
                System.out.println("Hello from MyComponent!");
            }
        }

**@Service**

Es una especializaci√≥n de @Component. Indica que la clase contiene l√≥gica de negocio.

Uso t√≠pico: servicios de negocio.

    @Service
    public class MyService {
        public String process() {
            return "Processing...";
        }
    }

**@Repository**

Especializaci√≥n de @Component. Indica que la clase es responsable de la interacci√≥n con la base de datos.
Habilita el manejo autom√°tico de excepciones relacionadas con la persistencia.


    @Repository
    public interface MyRepository extends JpaRepository<MyEntity, Long> {
    }

**@Bean**

Declara un bean dentro de una clase anotada con @Configuration. 

    @Configuration
        public class AppConfig {
            @Bean
            public MyService myService() {
                return new MyService();
            }
        }

## Anotaciones de controladores (MVC)   

**@Controller**

Especializaci√≥n de @Component. Indica que la clase es un controlador que maneja solicitudes HTTP en aplicaciones web MVC.

Uso t√≠pico: manejar la l√≥gica de las solicitudes y devolver vistas.



    @Controller
    public class MyController {
        @GetMapping("/home")
        public String home() {
            return "home";
        }
    }

**@RestController**

Combina @Controller y @ResponseBody. Indica que la clase es un controlador REST que devuelve directamente datos (normalmente en formato JSON o XML) en lugar de vistas.


    @RestController
    public class MyRestController {
        @GetMapping("/api/greet")
        public String greet() {
            return "Hello, World!";
        }
    }

**@RequestMapping**

Mapea solicitudes HTTP a m√©todos espec√≠ficos en un controlador.

    @Controller
    public class MyController {
        @RequestMapping("/home")
        public String home() {
            return "home";
        }
    }

**@GetMapping, @PostMapping, @PutMapping, @DeleteMapping**

Son variantes especializadas de @RequestMapping para solicitudes HTTP espec√≠ficas.


    @RestController
    public class MyController {
        @GetMapping("/users")
        public List<User> getUsers() {
            return userService.getAllUsers();
        }
    }

**@PathVariable**

Vincula un par√°metro en la URL a un argumento en el controlador.


    @GetMapping("/users/{id}")
    public User getUser(@PathVariable Long id) {
        return userService.getUserById(id);
    }

**@RequestParam**

Vincula un par√°metro de consulta (query parameter) a un argumento del controlador.


    @GetMapping("/search")
    public String search(@RequestParam String keyword) {
        return "Searching for " + keyword;
    }

**@RequestBody**

Vincula el cuerpo de la solicitud HTTP a un objeto Java.


    @PostMapping("/users")
    public User createUser(@RequestBody User user) {
        return userService.save(user);
    }

**@ResponseBody**

Indica que el resultado del m√©todo debe enviarse como la respuesta HTTP (generalmente en formato JSON o XML).


    @ResponseBody
    @GetMapping("/hello")
    public String hello() {
        return "Hello!";
    }



## Anotaciones para Inyecci√≥n de Dependencias

**@Autowired**

Inyecta autom√°ticamente un Bean en una clase.

Se puede usar en:

* Constructor
* Campo
* M√©todo
---

    @Service
    public class MyService {
        @Autowired
        private MyRepository myRepository;
    }

**@Qualifier**

Se usa junto con @Autowired para especificar qu√© **Bean** debe inyectarse si hay m√∫ltiples candidatos.

    @Service
    public class MyService {
        @Autowired
        @Qualifier("mySpecificBean")
        private MyComponent myComponent;
    }

**@Inject**

Alternativa a @Autowired (de Java CDI), realiza la misma funci√≥n.

    @Inject
    private MyComponent myComponent;

**@Value**

Inyecta valores directamente desde el archivo de configuraci√≥n (application.properties) o valores literales.


    @Value("${app.name}")
    private String appName;


----

Anotaciones para Spring Data



-->
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Spring/" class="btn btn-neutral float-left" title="üîπ Spring Framework"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../SpringBoot/" class="btn btn-neutral float-right" title="üîπ SpringBoot">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Spring/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../SpringBoot/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../js/copy-button.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
